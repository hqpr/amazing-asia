{% extends 'base.html' %}
{% load static %}

{% block title %} {{ object.name }}{% endblock %}

{% block page_name %}
  <p class="small">{{ object.location|default:"" }}</p>
  <h3 class="resort_caption">{{ object.name }}</h3>
{% endblock page_name %}

{% block page_menu %}
  <div class="nav-tabs-horizontal" id="page_menu">
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark page_menu">
      <div class="container">
        <div class="" id="navbarResponsive">
          <ul class="nav nav-tabs page_menu" data-plugin="nav-tabs" role="tablist">
            <li class="active" role="presentation">
              <a data-toggle="tab" href="#Villas" aria-controls="Villas"
                 role="tab">Villas and Suites</a>
            </li>
            <li role="presentation">
              <a data-toggle="tab" href="#Wines" aria-controls="Wines"
                 role="tab">Wine and Dines</a></li>
            <li role="presentation">
              <a data-toggle="tab" href="#Wells" aria-controls="Wells"
                 role="tab">Wellness</a>
            </li>
            <li role="presentation">
              <a data-toggle="tab" href="#Exp" aria-controls="Exp"
                 role="tab">Experiences</a>
            </li>
            <li role="presentation">
              <a data-toggle="tab" href="#Photos" aria-controls="Photos"
                 role="tab">Gallery</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>
  </div>
{% endblock page_menu %}

{% block content %}
  <div class="row page_content" style="position: relative" data-sticky_parent>
    <div class="col-md-7 mb-5">

      <div class="tab-content padding-top-20" style="margin-top: 5rem;">
        <div class="tab-pane active" id="Villas" role="tabpanel">

          {% for villa in object.villasuite_set.all %}
            {% if villa.villasuiteimage_set.all %}
              <div id="carouselVillaIndicators" class="carousel slide" data-ride="carousel">
                <div class="carousel-inner" role="listbox">
                  <div class="carousel-item active"
                       style="background-image: url('{{ villa.villasuiteimage_set.first.image.url }}')">
                  </div>
                  {% for im in villa.villasuiteimage_set.all %}
                    <div class="carousel-item" style="background-image: url('{{ im.image.url }}')">
                    </div>
                  {% endfor %}
                </div>
                <a class="carousel-control-prev" href="#carouselVillaIndicators" role="button" data-slide="prev">
                  <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                  <span class="sr-only">Previous</span>
                </a>
                <a class="carousel-control-next" href="#carouselVillaIndicators" role="button" data-slide="next">
                  <span class="carousel-control-next-icon" aria-hidden="true"></span>
                  <span class="sr-only">Next</span>
                </a>
              </div>
            {% endif %}

            <h1>{{ villa.name }}</h1>
            <p><b>VILLA VIEW: </b> {{ villa.villa_view }}</p>
            <p><b>OCCUPANCY: </b> {{ villa.max_occupancy }} PERSONS</p>
            <div class="mb-5"></div>
            <p>{{ villa.description }}</p>
            <div class="mb-5"></div>
          {% endfor %}

        </div>
        <div class="tab-pane" id="Wines" role="tabpanel">
          {% for wine in object.winedine_set.all %}
            {% if wine.winedineimage_set.all %}
              <div id="carouselWineIndicators" class="carousel slide" data-ride="carousel">
                <div class="carousel-inner" role="listbox">
                  <div class="carousel-item active"
                       style="background-image: url('{{ wine.winedineimage_set.first.image.url }}')">
                  </div>
                  {% for im in wine.winedineimage_set.all %}
                    <div class="carousel-item" style="background-image: url('{{ im.image.url }}')">
                    </div>
                  {% endfor %}
                </div>
                <a class="carousel-control-prev" href="#carouselWineIndicators" role="button" data-slide="prev">
                  <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                  <span class="sr-only">Previous</span>
                </a>
                <a class="carousel-control-next" href="#carouselWineIndicators" role="button" data-slide="next">
                  <span class="carousel-control-next-icon" aria-hidden="true"></span>
                  <span class="sr-only">Next</span>
                </a>
              </div>
            {% endif %}

            <h1>{{ wine.name }}</h1>
            <p><b>VILLA VIEW: </b> {{ wine.villa_view }}</p>
            <p><b>OCCUPANCY: </b> {{ wine.max_occupancy }} PERSONS</p>
            <div class="mb-5"></div>
            <p>{{ wine.description }}</p>
            <div class="mb-5"></div>
          {% endfor %}
        </div>
        <div class="tab-pane" id="Wells" role="tabpanel">
          {% for well in object.wellness_set.all %}
            {% if well.wellnessimage_set.all %}
              <div id="carouselWellIndicators" class="carousel slide" data-ride="carousel">
                <div class="carousel-inner" role="listbox">
                  <div class="carousel-item active"
                       style="background-image: url('{{ well.wellnessimage_set.first.image.url }}')">
                  </div>
                  {% for im in well.wellnessimage_set.all %}
                    <div class="carousel-item" style="background-image: url('{{ im.image.url }}')">
                    </div>
                  {% endfor %}
                </div>
                <a class="carousel-control-prev" href="#carouselWellIndicators" role="button" data-slide="prev">
                  <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                  <span class="sr-only">Previous</span>
                </a>
                <a class="carousel-control-next" href="#carouselWellIndicators" role="button" data-slide="next">
                  <span class="carousel-control-next-icon" aria-hidden="true"></span>
                  <span class="sr-only">Next</span>
                </a>
              </div>
            {% endif %}

            <h1>{{ well.name }}</h1>
            <p><b>VILLA VIEW: </b> {{ well.villa_view }}</p>
            <p><b>OCCUPANCY: </b> {{ well.max_occupancy }} PERSONS</p>
            <div class="mb-5"></div>
            <p>{{ well.description }}</p>
            <div class="mb-5"></div>
          {% endfor %}
        </div>
        <div class="tab-pane" id="Exp" role="tabpanel">
          {% for exp in object.experience_set.all %}
            {% if exp.experienceimage_set.all %}
              <div id="carouselExpIndicators" class="carousel slide" data-ride="carousel">
                <div class="carousel-inner" role="listbox">
                  <div class="carousel-item active"
                       style="background-image: url('{{ exp.experienceimage_set.first.image.url }}')">
                  </div>
                  {% for im in exp.experienceimage_set.all %}
                    <div class="carousel-item" style="background-image: url('{{ im.image.url }}')">
                    </div>
                  {% endfor %}
                </div>
                <a class="carousel-control-prev" href="#carouselExpIndicators" role="button" data-slide="prev">
                  <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                  <span class="sr-only">Previous</span>
                </a>
                <a class="carousel-control-next" href="#carouselExpIndicators" role="button" data-slide="next">
                  <span class="carousel-control-next-icon" aria-hidden="true"></span>
                  <span class="sr-only">Next</span>
                </a>
              </div>
            {% endif %}

            <h1>{{ exp.name }}</h1>
            <p><b>VILLA VIEW: </b> {{ exp.villa_view }}</p>
            <p><b>OCCUPANCY: </b> {{ exp.max_occupancy }} PERSONS</p>
            <div class="mb-5"></div>
            <p>{{ exp.description }}</p>
            <div class="mb-5"></div>
          {% endfor %}
        </div>
        <div class="tab-pane" id="Photos" role="tabpanel">
          {% if object.resortimage_set.all %}
            <div id="carouselResortIndicators" class="carousel slide" data-ride="carousel">
              <div class="carousel-inner" role="listbox">
                <div class="carousel-item active"
                     style="background-image: url('{{ object.resortimage_set.first.image.url }}')">
                </div>
                {% for im in resort.resortimage_set.all %}
                  <div class="carousel-item" style="background-image: url('{{ im.image.url }}')">
                  </div>
                {% endfor %}
              </div>
              <a class="carousel-control-prev" href="#carouselResortIndicators" role="button" data-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
              </a>
              <a class="carousel-control-next" href="#carouselResortIndicators" role="button" data-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
              </a>
            </div>
          {% endif %}
          <div class="mb-5"></div>
        </div>
      </div>

    </div>

    <div class="col-md-4 col-md-offset-1" style="margin-top: 5rem;">
      <div class="enquire text-center" id="sidebar">
        <p class="mb-5">Please book rooms in advance to ensure <br> availability and enjoy best prices.</p>
        <a class="button" href="{% url 'enquiry:add' %}">enquire now</a>
        <p class="mt-4">or call us at +960 7749407</p>
      </div>
    </div>

  </div>

{% endblock %}


{% block extra_js %}
  <script src="{% static 'vendor/jquery.sticky-kit.min.js' %}"></script>

  <script>
  $("#page_menu").stick_in_parent({'offset_top': 64});
  $("#sidebar").stick_in_parent({'offset_top': 146});
  </script>
{% endblock extra_js %}